---
interface Props {
	class?: string;
}

const { class: className = '' } = Astro.props;

import { getLangFromUrl } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const currentPath = Astro.url.pathname;

let path = currentPath;
if (path.startsWith('/en/')) {
    path = path.substring(3);
} else if (path === '/en') {
    path = '/';
}

const frLink = path;
const enLink = '/en' + (path === '/' ? '' : path);
---

<div id="lang-dropdown" class=`text-[0.875rem] ${className}`>
	<a href={frLink} class={`lang-option ${lang === 'fr' ? 'active' : ''}`}>Fran√ßais</a>
	<a href={enLink} class={`lang-option ${lang === 'en' ? 'active' : ''}`}>English</a>
</div>

<style>
	.active{
		position: relative;
		text-decoration: none;
		border-bottom: 1px solid;
		display: inline-block;
	}
</style>

<script>
	// Script removed as we use direct links now
</script>

